# Complex Multi-Domain Mission Scenario
#
# This scenario tests agents' ability to plan and coordinate complex
# multi-domain operations with detailed constraints and requirements.

scenario_id: complex_multi_domain_001
name: "Multi-Domain A2/AD Penetration"
description: "Complex mission requiring coordinated EMS operations against layered A2/AD with coalition partners"
agent_id: ew_planner_agent
difficulty: expert
tags: ["multi-domain", "coalition", "a2ad", "complex"]

# Context configuration
context:
  phase: PHASE3_WEAPONEERING
  task_description: "Plan complex multi-domain EW missions with coalition coordination"
  max_context_size: 32000

  # Complex threat environment
  threats:
    - threat_id: "IADS-001"
      threat_type: "Integrated Air Defense System"
      location:
        lat: 36.0
        lon: 44.0
        elevation: 150
      priority: "critical"
      capability: "Multi-layered air defense"
      components:
        - component_id: "SAM-001"
          type: "S-400 Triumf"
          location: {lat: 36.0, lon: 44.0}
          engagement_range_nm: 250
          frequency_bands: ["C-band", "S-band", "X-band"]
          threat_level: "critical"
          mobility: "semi-mobile"
          operational_status: "active"
          special_capabilities: ["Low-RCS detection", "Multi-target engagement"]
        
        - component_id: "SAM-002"
          type: "S-300PMU2"
          location: {lat: 36.2, lon: 44.1}
          engagement_range_nm: 120
          frequency_bands: ["S-band", "C-band"]
          threat_level: "high"
          mobility: "mobile"
          operational_status: "active"
        
        - component_id: "SAM-003"
          type: "Pantsir-S1"
          location: {lat: 36.1, lon: 44.05}
          engagement_range_nm: 12
          frequency_bands: ["Ka-band", "Ku-band"]
          threat_level: "medium"
          mobility: "mobile"
          operational_status: "active"

    - threat_id: "EW-001"
      threat_type: "Electronic Warfare Complex"
      location: {lat: 35.8, lon: 43.9}
      priority: "high"
      capability: "Communications jamming and SIGINT"
      frequency_coverage: "HF through Ka-band"
      jamming_power: "high"
      collection_capability: "signals intelligence"
      countermeasures: ["Frequency hopping", "Adaptive jamming"]

    - threat_id: "COMMS-001"
      threat_type: "Military Communications Network"
      priority: "medium"
      nodes:
        - {node_id: "COMM-001", location: {lat: 36.3, lon: 44.2}, type: "primary"}
        - {node_id: "COMM-002", location: {lat: 35.9, lon: 43.8}, type: "backup"}
        - {node_id: "COMM-003", location: {lat: 36.1, lon: 44.3}, type: "relay"}
      frequency_bands: ["VHF", "UHF", "SHF"]
      encryption: "military-grade"
      redundancy: "high"

  # Available assets with detailed capabilities
  assets:
    - asset_id: "EA-001"
      platform: "EA-18G Growler"
      squadron: "VAQ-129"
      capability: "Stand-in jamming"
      availability: "available"
      location: {lat: 34.0, lon: 42.0}
      effective_range_nm: 50
      frequency_coverage: "C-band through Ka-band"
      jamming_power: "high"
      survivability: "high"
      coordination_systems: ["Link-16", "MIDS"]
      mission_duration_hours: 4.5
      weapons: ["AGM-88 HARM"]
      special_capabilities: ["AESA radar jamming", "Communications disruption"]

    - asset_id: "EA-002"
      platform: "EC-130H Compass Call"
      squadron: "193rd SOW"
      capability: "Communications jamming"
      availability: "available"
      location: {lat: 33.5, lon: 41.8}
      effective_range_nm: 200
      frequency_coverage: "VHF through SHF"
      jamming_power: "very high"
      survivability: "medium"
      coordination_systems: ["Link-16", "SATCOM"]
      mission_duration_hours: 8.0
      special_capabilities: ["Direction finding", "Communications intelligence"]

    - asset_id: "EA-003"
      platform: "F-16CJ Wild Weasel"
      squadron: "52nd FW"
      capability: "SEAD"
      availability: "available"
      location: {lat: 34.2, lon: 42.1}
      effective_range_nm: 300
      survivability: "high"
      coordination_systems: ["Link-16"]
      mission_duration_hours: 3.0
      weapons: ["AGM-88 HARM", "AGM-154 JSOW"]
      special_capabilities: ["Radar threat detection", "Precision strike"]

    - asset_id: "ISR-001"
      platform: "RC-135V/W Rivet Joint"
      squadron: "55th Wing"
      capability: "SIGINT collection"
      availability: "available"
      location: {lat: 33.0, lon: 41.5}
      effective_range_nm: 500
      coordination_systems: ["Link-16", "SATCOM", "JWICS"]
      mission_duration_hours: 12.0
      special_capabilities: ["Real-time SIGINT", "Communications analysis", "Threat geolocation"]

  # Doctrinal procedures with specific guidance
  doctrinal_procedures:
    - "Prioritize critical threats based on mission impact"
    - "Assign assets based on capability, range, and survivability"
    - "Coordinate jamming timeline to avoid EA/SIGINT fratricide"
    - "Request frequency allocations 24 hours in advance"
    - "Maintain continuous coordination with strike packages"
    - "Implement layered defense suppression (long-range first)"
    - "Preserve assets for follow-on operations"
    - "Coordinate with coalition partners on shared frequencies"

  # Historical lessons learned
  historical_lessons:
    - "S-400 systems require coordinated standoff and stand-in jamming"
    - "Communications jamming most effective during critical mission phases"
    - "SIGINT collection provides real-time threat updates"
    - "Coalition coordination prevents friendly fire incidents"
    - "Adaptive enemy countermeasures require flexible planning"
    - "Weather affects EW effectiveness at certain frequencies"

  # Mission constraints
  constraints:
    temporal:
      mission_window: "H-hour to H+4:00"
      weather_window: "Clear conditions required H-0:30 to H+1:00"
      coordination_deadlines:
        frequency_requests: "H-24:00"
        airspace_coordination: "H-12:00"
        final_mission_brief: "H-2:00"
    
    geographic:
      no_fly_zones:
        - area: "Civilian airport"
          coordinates: [[35.9, 43.7], [35.95, 43.75]]
        - area: "Hospital complex"
          coordinates: [[36.05, 44.1], [36.07, 44.12]]
      restricted_areas:
        - area: "Population center"
          coordinates: [[36.0, 44.0], [36.1, 44.1]]
          altitude_limit: 15000
    
    spectrum:
      protected_frequencies:
        - {band: "121.5 MHz", purpose: "Emergency"}
        - {band: "243.0 MHz", purpose: "Military emergency"}
        - {band: "406 MHz", purpose: "Satellite emergency"}
      coordination_required:
        - {band: "VHF Air Traffic Control", authority: "Host nation"}
        - {band: "Military SATCOM", authority: "DISA"}
    
    rules_of_engagement:
      jamming_restrictions: "No jamming of civilian communications"
      kinetic_restrictions: "Weapons release only on confirmed military targets"
      collateral_damage: "Minimize civilian impact"

# Test messages with complex instructions
messages:
  - message_type: "plan_complex_missions"
    description: "Plan comprehensive EW missions for multi-domain operation"
    payload:
      mission_type: "Multi-domain SEAD/EA"
      
      # Primary objectives
      primary_objectives:
        - objective_id: "OBJ-001"
          description: "Suppress S-400 system to enable strike package penetration"
          priority: "critical"
          success_criteria: "S-400 radar offline for minimum 30 minutes"
          timeline: "H-hour to H+0:30"
          coordination: "Must coordinate with Package Alpha TOT"
        
        - objective_id: "OBJ-002"
          description: "Disrupt enemy communications during strike window"
          priority: "high"
          success_criteria: "Communications degraded by 70% during H+0:15 to H+2:00"
          timeline: "H+0:15 to H+2:00"
          coordination: "Support all strike packages"
      
      # Secondary objectives
      secondary_objectives:
        - objective_id: "OBJ-003"
          description: "Collect SIGINT on backup communication systems"
          priority: "medium"
          success_criteria: "Identify and characterize backup C2 frequencies"
          timeline: "H-2:00 to H+4:00"
          coordination: "Deconflict with jamming operations"
      
      # Strike package coordination
      strike_packages:
        - package_id: "PKG-ALPHA"
          mission: "Primary target strike"
          aircraft: ["F-35A x4", "F-16C x2"]
          toa: "H+0:30"
          target: "Command bunker"
          ems_support_required: "SEAD escort, communications jamming"
        
        - package_id: "PKG-BRAVO"
          mission: "Secondary target strike"
          aircraft: ["F-15E x2", "F-16C x4"]
          toa: "H+1:15"
          target: "Supply depot"
          ems_support_required: "Area jamming, threat warning"
      
      # Coalition coordination
      coalition_forces:
        - nation: "Partner Nation A"
          assets: ["EF-2000 x2"]
          role: "Air superiority"
          coordination_freq: "251.0 MHz"
          liaison: "AWACS Callsign Magic"
      
      # Supporting elements
      supporting_elements:
        - element: "AWACS"
          callsign: "Magic 01"
          frequency: "251.0 MHz"
          role: "Air battle management"
        - element: "Tanker"
          callsign: "Shell 01"
          frequency: "265.0 MHz"
          role: "Air refueling"
      
      # Special instructions
      special_instructions:
        - "Prioritize S-400 suppression for Package Alpha success"
        - "Coordinate jamming timeline to avoid fratricide with SIGINT collection"
        - "Maintain continuous communications protection for friendly forces"
        - "Be prepared to adapt to enemy countermeasures"
        - "Ensure deconfliction with coalition partner frequencies"
        - "Minimize civilian impact and collateral damage"
        - "Preserve assets for follow-on operations"
      
      # Timeline with key events
      timeline:
        h_hour: "2025-10-05T10:00:00Z"
        mission_duration: "4 hours"
        key_events:
          - {time: "H-2:00", event: "Final coordination complete"}
          - {time: "H-0:30", event: "EW assets on station"}
          - {time: "H+0:00", event: "SEAD initiation"}
          - {time: "H+0:30", event: "Strike Package Alpha TOT"}
          - {time: "H+1:15", event: "Strike Package Bravo TOT"}
          - {time: "H+4:00", event: "Mission complete"}

# Evaluation criteria for complex mission
evaluation_criteria:
  mission_planning:
    weight: 0.4
    criteria:
      - "All critical threats addressed"
      - "Assets appropriately matched to targets"
      - "Timeline coordination with strike packages"
      - "Frequency allocation requests submitted"
  
  doctrine_compliance:
    weight: 0.3
    criteria:
      - "Follows SEAD doctrine for layered threats"
      - "Implements proper EA/SIGINT deconfliction"
      - "Adheres to ROE and constraints"
  
  coalition_coordination:
    weight: 0.2
    criteria:
      - "Coordinates with partner nation assets"
      - "Deconflicts frequencies with coalition"
      - "Maintains liaison communications"
  
  adaptability:
    weight: 0.1
    criteria:
      - "Plans for enemy countermeasures"
      - "Includes contingency options"
      - "Preserves assets for follow-on ops"
